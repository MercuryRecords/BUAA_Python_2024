## 问题组创建

- 请求方式：POST
- 请求URL：/api/problem_group_create
- 请求参数：

| 参数名                   | 参数说明   | 是否必须 | 类型  | 例子                                       | 备注          |
|-----------------------|--------|------|-----|------------------------------------------|-------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"                                |             |
| title   | 问题组标题  | 是    | 字符串 | "Math Questions"                         | 长度不超过50个字符  |
| description           | 问题组描述  | 否    | 字符串 | "A group for discussing math questions." | 长度不超过200个字符 |

- 返回信息：

| 状态码 | 信息     | 数据                                 | 备注 |
|-----|--------|------------------------------------|----|
| 200 | 创建成功   | {"code": 200, "message": "创建成功"}   | -  |
| ... | ...    | ...                                | -  |


## 问题组更新

- 请求方式：POST
- 请求URL：/api/problem_group_update
- 请求参数：

| 参数名                   | 参数说明   | 是否必须 | 类型  | 例子                                           | 备注          |
|-----------------------|--------|------|-----|----------------------------------------------|-------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"                                    |             |
| problem_group_id | 问题组id | 是    | 整数 |                                     |             |
| title              | 新问题组标题 | 否    | 字符串 | "New Math Questions"                         | 不包含此参数或为空则不修改，长度不超过50个字符  |
| description        | 新问题组描述 | 否    | 字符串 | "A new group for discussing math questions." | 不包含此参数则不修改，**为空则修改为空**，长度不超过200个字符 |

- 返回信息：

| 状态码 | 信息     | 数据                                 | 备注 |
|-----|--------|------------------------------------|----|
| 200 | 更新成功   | {"code": 200, "message": "更新成功"}   | -  |
| ... | ...    | ...                                | -  |


## 问题组删除

- 请求方式：POST
- 请求URL：/api/problem_group_delete
- 请求参数：

| 参数名                   | 参数说明   | 是否必须 | 类型  | 例子               | 备注         |
|-----------------------|--------|------|-----|------------------|------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"        |            |
| problem_group_id | 问题组id | 是    | 整数 |         |            |

- 返回信息：

| 状态码 | 信息     | 数据                                 | 备注 |
|-----|--------|------------------------------------|----|
| 200 | 删除成功   | {"code": 200, "message": "删除成功"}   | -  |
| ... | ...    | ...                                | -  |

这个接口用于删除指定问题组。需要提供问题组的创建者和标题来唯一标识问题组。删除成功后，返回删除成功的提示。


## 题目创建

- 请求方式：POST
- 请求URL：/api/problem_create
- 请求参数：

| 参数名                   | 参数说明   | 是否必须  | 类型  | 例子                        | 备注                          |
|-----------------------|--------|-------|-----|---------------------------|-----------------------------|
| username              | 用户名    | 是     | 字符串 | "JohnDoe"                 |                             |
| title | 问题标题 | 字符串 |||
| problem_group_id | 问题组id | 是     | 整数 |                  |                             |
| type                  | 题目类型   | 是     | 字符串 | "c" 或 "b"                 | "c" 表示选择题，"b" 表示填空题         |
| content               | 题目内容   | 是     | 字符串 | "What is the sum of 1+1?" | 长度不超过1000个字符                |
| ans_count             | 选项或答案数量   | 是     | 整数  | 1                         | 选择题选项数量或填空题答案数量，不超过7个        |
| answer                | 答案     | 选择题必填 | 字符串 | "A"                       | 选择题答案，大写字母，A、B、C等           |
| field1                | 选择题A选项的内容，或填空题第一个空的答案 | 是 | 字符串 |                        | 长度不超过100个字符           |
| field2                | 选择题B选项的内容，或填空题第二个空的答案 | ans_count>=2必填 | 字符串 |                         | 长度不超过100个字符，如果选择题少于2个选项，填空题少于2个空，则传空字符串 |
| ...                |  | |  |                       |            |
| field7                | 选择题G选项的内容，或填空题第七个空的答案 | ans_count>=7必填 | 字符串 |                         | 长度不超过100个字符，如果选择题少于7个选项，填空题少于7个空，则传空字符串 |

- 返回信息：

| 状态码 | 信息     | 数据                                 | 备注 |
|-----|--------|------------------------------------|----|
| 200 | 创建成功   | {"code": 200, "message": "创建成功"}   | -  |
| ... | ...    | ...                                | -  |



## 题目更新

- 请求方式：POST
- 请求URL：/api/problem_update
- 请求参数：

| 参数名                   | 参数说明   | 是否必须  | 类型  | 例子                        | 备注                          |
|-----------------------|--------|-------|-----|---------------------------|-----------------------------|
| username              | 用户名    | 是     | 字符串 | "JohnDoe"                 |                             |
| problem_id | 问题id | 是     | 整数 |                  |                             |
| ... | | | | | 剩余字段title、type、content、ans_count、answer、field1-field7完全同上，非空则更新，为空则不更新 |


- 返回信息：

| 状态码 | 信息     | 数据                                 | 备注 |
|-----|--------|------------------------------------|----|
| 200 | 更新成功   | {"code": 200, "message": "更新成功"}   | -  |
| ... | ...    | ...                                | -  |



## 题目删除

- 请求方式：POST
- 请求URL：/api/problem_delete
- 请求参数：

| 参数名                   | 参数说明   | 是否必须 | 类型  | 例子               | 备注             |
|-----------------------|--------|------|-----|------------------|----------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"        |                |
| problem_id | 问题id | 是    | 整数 |         |                |


- 返回信息：

| 状态码 | 信息     | 数据                                 | 备注 |
|-----|--------|------------------------------------|----|
| 200 | 删除成功   | {"code": 200, "message": "删除成功"}   | -  |
| ... | ...    | ...                                | -  |

## 题目顺序调整

- 请求方式：POST
- 请求URL：/api/problem_adjust_order
- 请求参数：

| 参数名                   | 参数说明   | 是否必须 | 类型  | 例子               | 备注                       |
|-----------------------|--------|------|-----|------------------|--------------------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"        |                          |
| problem_id | 问题id | 是    | 整数 |         |                          |
| newindex              | 新的题目索引 | 是    | 整数  | 1                | 新的题目索引，范围在 1 到 问题组最大索引之间 |

- 返回信息：

| 状态码 | 信息     | 数据                                 | 备注 |
|-----|--------|------------------------------------|----|
| 200 | 调整成功   | {"code": 200, "message": "调整成功"}   | -  |
| ... | ...    | ...                                | -  |

注意：在调整题目顺序时，**不需要**更新问题组中其他题目的索引值，以保持题目顺序的一致性。**其它问题的索引会自动更新**（比如把第2个问题的索引值变为1，则第1个问题的索引值自动变为2）。新的题目索引值必须在 1 到 问题组最大索引之间。（一开始GPT这里写错了。）

## 获取问题组

- 请求URL：/api/get_problem_groups
- 请求参数：

| 参数名                   | 参数说明   | 是否必须 | 类型  | 例子               | 备注                       |
|-----------------------|--------|------|-----|------------------|--------------------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"        |                          |
| mode | 模式 | 是 | 整数 | 0 | 0:用户加入的问题组，1:用户管理的问题组，2:用户创建的问题组|
| filter_group | 用户组筛选器 | 否 | 字符串 | "用户组1" | 为空表示不筛选，仅在mode为0,1时有效 |
| page | 页码 | 是    | 整数 | 1        | 从1开始                        |
| number_per_page   | 每页容纳的问题组数量  | 是    | 整数 | 10 |                |
- 成功信息：{"code": 200, "message": "问题组查询成功", "data": [字典1, 字典2, ...]}
- 字典格式：

| 参数名                   | 参数说明   | 类型  | 例子               | 备注                       |
|-----------------------|--------|-----|------------------|--------------------------|
| id              | 问题组id    | 整数 | 1        |                          |
| title | 问题组标题 | 字符串 | "Math Questions"        |                         |
| creator | 问题组创建者 | 字符串 | "JohnDoe" | |
| description | 问题组描述 | 字符串 | "A new group for discussing math questions.| |
| tags | 问题组标签 | 列表 | ["矩阵", "行列式", ...]| |
| problem_num | 问题组中的题目总数 | 整数 | 100 | |
- 失败信息：{"code": 401, "message": "用户不存在"} / {"code": 409, "message": "题目列表为空"}

## 获取问题组数量

- 请求URL：/api/get_problem_groups_num
- 请求参数：
| 参数名                   | 参数说明   | 是否必须 | 类型  | 例子               | 备注                       |
|-----------------------|--------|------|-----|------------------|--------------------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"        |                          |
| mode | 模式 | 是 | 整数 | 0 | 0:用户加入的问题组，1:用户管理的问题组，2:用户创建的问题组|
| filter_group | 用户组筛选器 | 否 | 字符串 | "用户组1" | 为空表示不筛选，仅在mode为0,1时有效 |
- 成功信息：{"code": 200, "message": "问题组数量查询成功", "data": 问题组数量（整数）}
- 失败信息：{"code": 401, "message": "用户不存在"}

## 获取问题
- 请求URL：/api/get_problems
- 请求参数：

| 参数名                   | 参数说明   | 是否必须 | 类型  | 例子               | 备注                       |
|-----------------------|--------|------|-----|------------------|--------------------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"        |                          |
| filter_group | 用户组筛选器 | 否 | 字符串 | "用户组1" | 为空表示不筛选 |
| filter_problem_group | 问题组筛选器 | 否 | 字符串 | "问题组1" | 为空表示不筛选 |
| filter_user | 问题创建者筛选器 | 否 | 字符串 | | 为空不筛选 |
| filter_text | 搜索内容 | 否 | 字符串 | | 为空不搜索 |
| regex | 是否使用正则表达式 | 否 | 字符串 | | 'y'（yes，默认）或'n'（no），下同 |
| search_title | 是否搜索标题 | 否 | 字符串|||
| search_content | 是否搜索题干 | 否 |字符串|||
| search_options_and_answer | 是否搜索选项和答案 | 否 |字符串|||
| sort_by | 排序方式 | 否 | 字符串 || 'id','title','create_time'之一（待定，可加）|
| reverse | 是否逆序 | 否 | 字符串 || '+'正序（默认），'-'逆序 |
| page | 页码 | 是    | 整数 | 1        | 从1开始                        |
| number_per_page   | 每页容纳的问题组数  | 是    | 整数 | 10 |                |

注：filter_group，filter_problem_group，filter_user均需完整名称，不能只是名称片段。
- 成功信息：{"code": 200, "message": "问题查询成功", "data": [字典1, 字典2, ...]}
- 字典格式：

| 参数名                   | 参数说明   | 类型  | 例子               | 备注                       |
|-----------------------|--------|-----|------------------|--------------------------|
| id              | 问题id    | 整数 | 1        |                          |
| problem_title | 问题标题 | 字符串 |||
| problem_group_title | 问题组标题 | 字符串 | "Math Questions"        |                         |
| problem_group_id | 所属问题组id | 整数 | | |
| tags | 问题标签 | 列表 | ["矩阵", "行列式", ...]| ||
| creator | 上传者用户名 | 字符串 |||
| user_right_count | 当前用户此题正确次数 |整数|||
| user_count | 当前用户做此题的总次数 | 整数|||
| all_right_count | 所有用户此题总正确次数 |整数|||
| all_count|所有用户做此题的总次数|整数|||
- 失败信息：{"code": 401, "message": "用户不存在"} / {"code": 409, "message": "题目列表为空"}

## 获取问题数量
- 请求URL：/api/get_problems_num
- 请求参数：

| 参数名                   | 参数说明   | 是否必须 | 类型  | 例子               | 备注                       |
|-----------------------|--------|------|-----|------------------|--------------------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"        |                          |
| filter_group | 用户组筛选器 | 否 | 字符串 | "用户组1" | 为空表示不筛选 |
| filter_problem_group | 问题组筛选器 | 否 | 字符串 | "问题组1" | 为空表示不筛选 |
| filter_text | 搜索内容 | 否 | 字符串 | | 为空不搜索 |
| regex | 是否使用正则表达式 | 否 | 字符串 | | 'y'（yes，默认）或'n'（no），下同 |
| search_title | 是否搜索标题 | 否 | 字符串|||
| search_content | 是否搜索题干 | 否 |字符串|||
| search_options_and_answer | 是否搜索选项和答案 | 否 |字符串|||
- 成功信息：{"code": 200, "message": "问题查询成功", "data": 题目数量（整数）}
- 失败信息：{"code": 401, "message": "用户不存在"}


## 获取问题组内所有问题

待定，与“/api/get_problems”接口使用filter_problem_group不同的是会按题单中题目的自定义顺序显示题目，自定义顺序可以使用/api/problem_adjust_order调整

## 获取单个问题详细信息

## 校验单个问题答案
