## 问题组创建

- 请求方式：POST
- 请求URL：/api/problem_group_create
- 请求参数：

| 参数名                   | 参数说明   | 是否必须 | 类型  | 例子                                       | 备注          |
|-----------------------|--------|------|-----|------------------------------------------|-------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"                                |             |
| title   | 问题组标题  | 是    | 字符串 | "Math Questions"                         | 长度不超过50个字符  |
| description           | 问题组描述  | 否    | 字符串 | "A group for discussing math questions." | 长度不超过200个字符 |
| tags[] | 问题组标签 | 否 | 列表 |  |  |

- 返回信息：

| 状态码 | 信息     | 数据                                                         | 备注 |
| ------ | -------- | ------------------------------------------------------------ | ---- |
| 200    | 创建成功 | {"code": 200, "message": "创建成功", "data": 新创建的问题组id（整数）} | -    |
| ...    | ...      | ...                                                          | -    |


## 问题组更新

- 请求方式：POST
- 请求URL：/api/problem_group_update
- 请求参数：

| 参数名           | 参数说明     | 是否必须 | 类型   | 例子                                         | 备注                                                         |
| ---------------- | ------------ | -------- | ------ | -------------------------------------------- | ------------------------------------------------------------ |
| username         | 用户名       | 是       | 字符串 | "JohnDoe"                                    |                                                              |
| problem_group_id | 问题组id     | 是       | 整数   |                                              |                                                              |
| title            | 新问题组标题 | 否       | 字符串 | "New Math Questions"                         | 不包含此参数或为空则不修改，长度不超过50个字符               |
| description      | 新问题组描述 | 否       | 字符串 | "A new group for discussing math questions." | 不包含此参数则不修改，**为空则修改为空**，长度不超过200个字符 |
| tags[]           | 问题组标签   | 否       | 列表   |                                              | 不包含此参数则不修改，**为空则修改为空**                     |

- 返回信息：

| 状态码 | 信息     | 数据                                 | 备注 |
|-----|--------|------------------------------------|----|
| 200 | 更新成功   | {"code": 200, "message": "更新成功"}   | -  |
| ... | ...    | ...                                | -  |


## 问题组删除

- 请求方式：POST
- 请求URL：/api/problem_group_delete
- 请求参数：

| 参数名                   | 参数说明   | 是否必须 | 类型  | 例子               | 备注         |
|-----------------------|--------|------|-----|------------------|------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"        |            |
| problem_group_id | 问题组id | 是    | 整数 |         |            |

- 返回信息：

| 状态码 | 信息     | 数据                                 | 备注 |
|-----|--------|------------------------------------|----|
| 200 | 删除成功   | {"code": 200, "message": "删除成功"}   | -  |
| ... | ...    | ...                                | -  |

这个接口用于删除指定问题组。需要提供问题组的创建者和标题来唯一标识问题组。删除成功后，返回删除成功的提示。


## 题目创建

- 请求方式：POST
- 请求URL：/api/problem_create
- 请求参数：

| 参数名           | 参数说明                                  | 是否必须         | 类型   | 例子                      | 备注                                                         |
| ---------------- | ----------------------------------------- | ---------------- | ------ | ------------------------- | ------------------------------------------------------------ |
| username         | 用户名                                    | 是               | 字符串 | "JohnDoe"                 |                                                              |
| title            | 问题标题                                  | 字符串           |        |                           |                                                              |
| problem_group_id | 问题组id                                  | 是               | 整数   |                           |                                                              |
| type             | 题目类型                                  | 是               | 字符串 | "c" 或 "b"                | "c" 表示选择题，"b" 表示填空题                               |
| content          | 题目内容                                  | 是               | 字符串 | "What is the sum of 1+1?" | 长度不超过1000个字符                                         |
| ans_count        | 选项或答案数量                            | 是               | 整数   | 1                         | 选择题选项数量或填空题答案数量，不超过7个                    |
| answer           | 答案                                      | 选择题必填       | 字符串 | "A"                       | 选择题答案，大写字母，A、B、C等                              |
| field1           | 选择题A选项的内容，或填空题第一个空的答案 | 是               | 字符串 |                           | 长度不超过100个字符                                          |
| field2           | 选择题B选项的内容，或填空题第二个空的答案 | ans_count>=2必填 | 字符串 |                           | 长度不超过100个字符，如果选择题少于2个选项，填空题少于2个空，则传空字符串 |
| ...              |                                           |                  |        |                           |                                                              |
| field7           | 选择题G选项的内容，或填空题第七个空的答案 | ans_count>=7必填 | 字符串 |                           | 长度不超过100个字符，如果选择题少于7个选项，填空题少于7个空，则传空字符串 |
| tags[]           | 题目标签                                  | 否               | 列表   | ["矩阵", "行列式"]        |                                                              |

- 返回信息：

| 状态码 | 信息     | 数据                                                         | 备注 |
| ------ | -------- | ------------------------------------------------------------ | ---- |
| 200    | 创建成功 | {"code": 200, "message": "创建成功", "data": 新创建的问题id（整数）} | -    |
| ...    | ...      | ...                                                          | -    |



## 题目更新

- 请求方式：POST
- 请求URL：/api/problem_update
- 请求参数：

| 参数名                   | 参数说明   | 是否必须  | 类型  | 例子                        | 备注                          |
|-----------------------|--------|-------|-----|---------------------------|-----------------------------|
| username              | 用户名    | 是     | 字符串 | "JohnDoe"                 |                             |
| problem_id | 问题id | 是     | 整数 |                  |                             |
| ... | | | | | 剩余字段title、type、content、ans_count、answer、field1-field7完全同上，非空则更新，为空则不更新；不包含tags则不更新tags，**包含tags且tags为空则删除此问题的所有tags** |


- 返回信息：

| 状态码 | 信息     | 数据                                 | 备注 |
|-----|--------|------------------------------------|----|
| 200 | 更新成功   | {"code": 200, "message": "更新成功"}   | -  |
| ... | ...    | ...                                | -  |



## 题目删除

- 请求方式：POST
- 请求URL：/api/problem_delete
- 请求参数：

| 参数名                   | 参数说明   | 是否必须 | 类型  | 例子               | 备注             |
|-----------------------|--------|------|-----|------------------|----------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"        |                |
| problem_id | 问题id | 是    | 整数 |         |                |


- 返回信息：

| 状态码 | 信息     | 数据                                 | 备注 |
|-----|--------|------------------------------------|----|
| 200 | 删除成功   | {"code": 200, "message": "删除成功"}   | -  |
| ... | ...    | ...                                | -  |

## 题目顺序调整

- 请求方式：POST
- 请求URL：/api/problem_adjust_order
- 请求参数：

| 参数名                   | 参数说明   | 是否必须 | 类型  | 例子               | 备注                       |
|-----------------------|--------|------|-----|------------------|--------------------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"        |                          |
| problem_id | 问题id | 是    | 整数 |         |                          |
| newindex              | 新的题目索引 | 是    | 整数  | 1                | 新的题目索引，范围在 1 到 问题组最大索引之间 |

- 返回信息：

| 状态码 | 信息     | 数据                                 | 备注 |
|-----|--------|------------------------------------|----|
| 200 | 调整成功   | {"code": 200, "message": "调整成功"}   | -  |
| ... | ...    | ...                                | -  |

注意：在调整题目顺序时，**不需要**更新问题组中其他题目的索引值，以保持题目顺序的一致性。**其它问题的索引会自动更新**（比如把第2个问题的索引值变为1，则第1个问题的索引值自动变为2）。新的题目索引值必须在 1 到 问题组最大索引之间。（一开始GPT这里写错了。）

## 获取问题组

- 请求URL：/api/get_problem_groups
- 请求参数：

| 参数名                   | 参数说明   | 是否必须 | 类型  | 例子               | 备注                       |
|-----------------------|--------|------|-----|------------------|--------------------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"        |                          |
| mode | 模式 | 是 | 整数 | 0 | 0:用户可见的问题组（不包含用户创建或管理的），1:用户管理的问题组（包含用户创建的） |
| filter_group | 用户组筛选器 | 否 | 字符串 | "用户组1" | 为空表示不筛选，仅在mode为0,1时有效，为'_shared_to_all'表示筛选公开分享的问题 |
| page | 页码 | 否   | 整数 | 1        | 从1开始                        |
| number_per_page   | 每页容纳的问题组数量  | 否   | 整数 | 10 |                |
- 成功信息：{"code": 200, "message": "问题组查询成功", "data": [字典1, 字典2, ...]}
- 字典格式：

| 参数名                   | 参数说明   | 类型  | 例子               | 备注                       |
|-----------------------|--------|-----|------------------|--------------------------|
| id              | 问题组id    | 整数 | 1        |                          |
| title | 问题组标题 | 字符串 | "Math Questions"        |                         |
| creator | 问题组创建者 | 字符串 | "JohnDoe" | |
| description | 问题组描述 | 字符串 | "A new group for discussing math questions.| |
| tags | 问题组标签 | 列表 | ["矩阵", "行列式", ...]| |
| problem_num | 问题组中的题目总数 | 整数 | 100 | |
- 失败信息：{"code": 401, "message": "用户不存在"} / {"code": 409, "message": "题目列表为空"}

## 获取问题组数量

- 请求URL：/api/get_problem_groups_num
- 请求参数：
| 参数名                   | 参数说明   | 是否必须 | 类型  | 例子               | 备注                       |
|-----------------------|--------|------|-----|------------------|--------------------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"        |                          |
| mode | 模式 | 是 | 整数 | 0 | 同上 |
| filter_group | 用户组筛选器 | 否 | 字符串 | "用户组1" | 同上 |
- 成功信息：{"code": 200, "message": "问题组数量查询成功", "data": 问题组数量（整数）}
- 失败信息：{"code": 401, "message": "用户不存在"}

## 获取问题
- 请求URL：/api/get_problems
- 请求参数：

| 参数名          | 参数说明           | 是否必须 | 类型   | 例子      | 备注                                                   |
| --------------- | ------------------ | :------- | ------ | --------- | ------------------------------------------------------ |
| username        | 用户名             | 是       | 字符串 | "JohnDoe" |                                                        |
| filter_group    | 用户组筛选器       | 否       | 字符串 | "用户组1" | 为空表示不筛选，'_shared_to_all'表示筛选公开分享的问题，'_created_by_self'表示筛选用户创建的问题组中的问题 |
| page            | 页码               | 否       | 整数   | 1         | 从1开始                                                |
| number_per_page | 每页容纳的问题组数 | 否       | 整数   | 10        |                                                        |

- 成功信息：{"code": 200, "message": "问题查询成功", "data": [字典1, 字典2, ...]}
- 字典格式：

| 参数名                   | 参数说明   | 类型  | 例子               | 备注                       |
|-----------------------|--------|-----|------------------|--------------------------|
| id              | 问题id    | 整数 | 1        |                          |
| type | 问题类型 | 字符串 |  'c'或'b' |  |
| problem_title | 问题标题 | 字符串 |||
| content | 问题题干 | 字符串 |||
| ans_count | | 整数 |||
| field1 || 字符串 |||
| field2 || 字符串 |||
| field3 || 字符串 |||
| field4 || 字符串 |||
| field5 || 字符串 |||
| field6 || 字符串 |||
| field7 || 字符串 |||
| tags | 问题标签 | 列表 | ["矩阵", "行列式", ...]| ||
| creator | 上传者用户名 | 字符串 |||
| problem_group_id | 所属问题组id | 整数 | | |
| problem_group_title | 问题组标题 | 字符串 | "Math Questions"        |                         |
| user_right_count | 当前用户此题正确次数 |整数|||
| user_count | 当前用户做此题的总次数 | 整数|||
| all_right_count | 所有用户此题总正确次数 |整数|||
| all_count|所有用户做此题的总次数|整数|||
| master_rate|用户对该题的掌握度| 0-1之间的浮点数 |||
- 失败信息：{"code": 401, "message": "用户不存在"} / {"code": 409, "message": "题目列表为空"}

## 获取问题数量
- 请求URL：/api/get_problems_num

- 请求参数：

| 参数名       | 参数说明     | 是否必须 | 类型   | 例子      | 备注                                                   |
| ------------ | ------------ | :------- | ------ | --------- | ------------------------------------------------------ |
| username     | 用户名       | 是       | 字符串 | "JohnDoe" |                                                        |
| filter_group | 用户组筛选器 | 否       | 字符串 | "用户组1" | 为空表示不筛选，'_shared_to_all'表示筛选公开分享的问题 |

- 成功信息：{"code": 200, "message": "问题查询成功", "data": 题目数量（整数）}
- 失败信息：{"code": 401, "message": "用户不存在"}

## 创建临时问题组
- 请求URL：/api/temporary_problem_group_create
- 请求URL：/api/problem_group_create
- 请求参数：

| 参数名                   | 参数说明   | 是否必须 | 类型  | 例子                                       | 备注          |
|-----------------------|--------|------|-----|------------------------------------------|-------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"                                |             |
| problem_ids[] | 临时问题组问题id  | 是    |  | [1, 3, 5, 6]                         |   |


- 成功信息：{"code": 200, "message": "问题查询成功", "data": 临时问题组id}
- 失败信息：{"code": 401, "message": "用户不存在"}/...


## 获取问题组内所有问题
- 请求URL：/api/get_problem_group_content
- 请求参数：

| 参数名              | 参数说明          | 是否必须 | 类型  | 例子        | 备注            |
|------------------|---------------|:-----|-----|-----------|---------------|
| username         | 用户名           | 是    | 字符串 | "JohnDoe" |               |
| problem_group_id | 问题组id或临时问题组id | 是    | 整数  |           |               |
| is_temporary     | 是否是临时问题组      | 否    | 字符串 |           | 'y'为是，'n'或空为否 |
| page             | 页码            | 否    | 整数  | 1         | 从1开始          |
| number_per_page  | 每页容纳的问题组数     | 否    | 整数  | 10        |               |

- 成功信息：{"code": 200, "message": "问题查询成功", "data": [字典1, 字典2, ...]}
- 字典格式：

| 参数名                   | 参数说明   | 类型  | 例子               | 备注                       |
|-----------------------|--------|-----|------------------|--------------------------|
| id              | 问题id    | 整数 | 1        |                          |
| type | 问题类型 | 字符串 |  'c'或'b' |  |
| problem_title | 问题标题 | 字符串 |||
| content | 问题题干 | 字符串 |||
| ans_count | | 整数 |||
| answer || 字符串 ||选择题答案|
| field1 || 字符串 |||
| field2 || 字符串 |||
| field3 || 字符串 |||
| field4 || 字符串 |||
| field5 || 字符串 |||
| field6 || 字符串 |||
| field7 || 字符串 |||
| tags | 问题标签 | 列表 | ["矩阵", "行列式", ...]| ||
| creator | 上传者用户名 | 字符串 |||
| problem_group_id | 所属问题组id | 整数 | | |
| problem_group_title | 问题组标题 | 字符串 | "Math Questions"        |                         |
| user_right_count | 当前用户此题正确次数 |整数|||
| user_count | 当前用户做此题的总次数 | 整数|||
| all_right_count | 所有用户此题总正确次数 |整数|||
| all_count|所有用户做此题的总次数|整数|||
| master_rate|用户对该题的掌握度| 0-1之间的浮点数 |||
- 失败信息：{"code": 401, "message": "用户不存在"} / {"code": 409, "message": "题目列表为空"}

注：此接口没有对应的获取“数量”的接口，因为可以用get_problem_group_detail获取到问题组内的问题数量

## 获取单个问题组详细信息

- 请求URL：/api/get_problem_group_detail
- 请求参数：

| 参数名          | 参数说明           | 是否必须 | 类型   | 例子      | 备注                                                   |
| --------------- | ------------------ | :------- | ------ | --------- | ------------------------------------------------------ |
| username        | 用户名             | 是       | 字符串 | "JohnDoe" |                                                        |
| problem_group_id    | 问题组id或临时问题组id       | 是       | 整数 |  | |
| is_temporary | 是否是临时问题组 | 否 | 字符串 | | 'y'为是，'n'或空为否 |


- 成功信息：{"code": 200, "message": "问题查询成功", "data": 字典}
- 字典格式：

| 参数名                   | 参数说明   | 类型  | 例子               | 备注                       |
|-----------------------|--------|-----|------------------|--------------------------|
| id              | 问题组id    | 整数 | 1        | 临时问题组不包含此字段 |
| title | 问题组标题 | 字符串 | "Math Questions"        |  临时问题组不包含此字段                       |
| creator | 问题组创建者 | 字符串 | "JohnDoe" |临时问题组不包含此字段 |
| description | 问题组描述 | 字符串 | "A new group for discussing math questions.|临时问题组不包含此字段 |
| tags | 问题组标签 | 列表 | ["矩阵", "行列式", ...]|临时问题组不包含此字段 |
| problem_num | 问题组中的题目总数 | 整数 | 100 | |
- 失败信息：...


## 获取单个问题详细信息

- 请求URL：/api/get_problem_detail
- 请求参数：

| 参数名                   | 参数说明   | 是否必须 | 类型  | 例子               | 备注             |
|-----------------------|--------|------|-----|------------------|----------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"        |                |
| problem_id | 问题id | 是    | 整数 |         |                |


- 成功信息：{"code": 200, "message": "问题查询成功", "data": 字典}
- 字典格式：

| 参数名                   | 参数说明   | 类型  | 例子               | 备注                       |
|-----------------------|--------|-----|------------------|--------------------------|
| id              | 问题id    | 整数 | 1        |                          |
| type | 问题类型 | 字符串 |  'c'或'b' |  |
| problem_title | 问题标题 | 字符串 |||
| content | 问题题干 | 字符串 |||
| ans_count | | 整数 |||
| answer || 字符串 ||选择题答案|
| field1 || 字符串 |||
| field2 || 字符串 |||
| field3 || 字符串 |||
| field4 || 字符串 |||
| field5 || 字符串 |||
| field6 || 字符串 |||
| field7 || 字符串 |||
| tags | 问题标签 | 列表 | ["矩阵", "行列式", ...]| ||
| creator | 上传者用户名 | 字符串 |||
| problem_group_id | 所属问题组id | 整数 | | |
| problem_group_title | 问题组标题 | 字符串 | "Math Questions"        |                         |
| user_right_count | 当前用户此题正确次数 |整数|||
| user_count | 当前用户做此题的总次数 | 整数|||
| all_right_count | 所有用户此题总正确次数 |整数|||
| all_count|所有用户做此题的总次数|整数|||
| master_rate|用户对该题的掌握度| 0-1之间的浮点数 |||

- 失败信息：...
## 校验单个问题答案
- 请求URL：/api/problem_check
- 请求参数：

| 参数名                   | 参数说明   | 是否必须 | 类型  | 例子               | 备注             |
|-----------------------|--------|------|-----|------------------|----------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"        |                |
| problem_id | 问题id | 是    | 整数 |         |                |
| user_answer      | 答案                                      | 选择题必填       | 字符串 | "A"                       | 选择题答案，大写字母，A、B、C等                              |
| user_field1      | 选择题A选项的内容，或填空题第一个空的答案 | 是               | 字符串 |                           | 长度不超过100个字符                                          |
| user_field2      | 选择题B选项的内容，或填空题第二个空的答案 | ans_count>=2必填 | 字符串 |                           | 长度不超过100个字符，如果选择题少于2个选项，填空题少于2个空，则传空字符串 |
| ...              |                                           |                  |        |                           |                                                              |
| user_field7      | 选择题G选项的内容，或填空题第七个空的答案 | ans_count>=7必填 | 字符串 |                           | 长度不超过100个字符，如果选择题少于7个选项，填空题少于7个空，则传空字符串 |

- 成功信息：{"code": 200, "message": "问题查询成功", "data": 字典}
- 字典格式：

| 参数名                   | 参数说明   | 类型  | 例子               | 备注                       |
|-----------------------|--------|-----|------------------|--------------------------|
| answer | 选择题正确答案 | 字符串 ||仅限选择题|
| field1 | 填空第一个空的正确答案 | 字符串 |||
| field2 | 填空第二个空的正确答案 | 字符串 |||
| ... ||  |||
| field7 | 填空第七个空的正确答案 | 字符串 |||
| correct | 选择题答案是否正确，或填空题答案整体是否正确 | 字符串 | | 正确为'T'，错误为'F'，若为填空题，则correct = correct1 and correct2 and ... and correct7 |
| correct1 | 第一个空答案是否正确 | 字符串 | | 正确为'T'，错误为'F'，仅限填空题 |
| ... | |  | | |
| correct1 | 第一个空答案是否正确 | 字符串 | | 正确为'T'，错误为'F'，仅限填空题 |
| user_right_count | 当前用户此题正确次数 |整数|||
| user_count | 当前用户做此题的总次数 | 整数|||
| all_right_count | 所有用户此题总正确次数 |整数|||
| all_count|所有用户做此题的总次数|整数|||

- 失败信息：...
## 问题组分享
- 请求URL：/api/problem_share
- 请求参数：

| 参数名                   | 参数说明  |是否必须 | 类型  | 例子               | 备注                       |
|-----------------------|--------|---|----|------------------|--------------------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"        ||
| problem_group_id | 要分享的问题组id | 是|整数 | | |
| group_name | 分享问题的目标用户组 | 是|字符串 | 空字符串表示分享给所有人 | |
| permission | 权限 | 是|整数 |0仅查看，1可查看并修改||

## 获取用户能力值随时间变化的列表
- 请求URL：/api/get_ability_trace
- 请求参数：
| 参数名                   | 参数说明  |是否必须 | 类型  | 例子               | 备注                       |
|-----------------------|--------|---|----|------------------|--------------------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"        ||
| during_interval | 横坐标的时间间隔的秒数 | 是 | 整数（需为86400的因数，解释见下） | 60（按分钟）/3600（按小时）/86400（按天）| |
| during_num | 横坐标时间点数量 | 是 | 整数 | 10 |  |
| filter_tag | 标签筛选器 | 否 | 字符串 | 为空则不筛选，计算用户的总能力值，否则计算用户对于某个标签的能力值 |

解释：during_interval 需为 86400 的因数，因为会按天进行对齐操作，一天有 86400 秒。
例：
* 今日为 30 号，during_interval 为 86400，during_num 为 5，则返回列表 [该用户在26号结束时（即27号00:00时）的能力值,..., 在29号结束时的能力值, 当前能力值（或理解为在30号结束时的能力值）]
* 现在为凌晨 1:00-1:59，during_interval 为 3600，during_num 为 5，则返回列表 [该用户在21点结束时的能力值（即22:00:00秒时的能力值）, ..., 该用户在0点结束时的能力值（即1:00:00秒时的能力值）, 当前能力值（或理解为在1点结束时的能力值）]
* 现在时刻处于 1:10-1:19之间 ，during_interval 为 600（按每十分钟），during_num 为 5，则返回列表 [该用户在0:40时的能力值,..., 在1:10时的能力值, 当前能力值（或理解为在1:20时的能力值）]

during_interval 还可以为其它很多值，比如按每20分钟、每30分钟、每2小时、每8小时，只要是86400的因数就行


- 成功信息：{"code": 200, "message": "能力值获取成功", "data": [能力值1, 能力值2, ...]}
- 失败信息：{"code": 413, "message": "标签不存在"}

## 获取用户的优势标签
- 请求URL：/api/get_advantaged_tags
- 请求参数：
| 参数名                   | 参数说明  |是否必须 | 类型  | 例子               | 备注                       |
|-----------------------|--------|---|----|------------------|--------------------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"        ||
| required_num              | 需要获取的数量   | 否    | 整数 |        | 对所有标签按能力值排序，按序返回前 required_num 个标签，为空则全部按序返回 |

注：“选择题”、“填空题”两个标签不参与排序
- 成功信息：{"code": 200, "message": "能力值获取成功", "data": [字典1, 字典2, ...]}
- 字典格式：
| 参数名                   | 参数说明   | 类型  | 例子               | 备注                       |
|-----------------------|--------|-----|------------------|--------------------------|
| name              | 标签名称    | 字符串 | 面向对象        |  |
| ability_value | 用户对该标签的能力值 | 浮点数 |        |                         |


## 获取用户的薄弱标签
- 请求URL：/api/get_disadvantaged_tags
- 请求参数：
| 参数名                   | 参数说明  |是否必须 | 类型  | 例子               | 备注                       |
|-----------------------|--------|---|----|------------------|--------------------------|
| username              | 用户名    | 是    | 字符串 | "JohnDoe"        ||
| required_num              | 需要获取的数量   | 否    | 整数 |        | 对所有标签按薄弱值排序，按序返回前 required_num 个标签，为空则全部按序返回 |

注：“选择题”、“填空题”两个标签不参与排序
- 成功信息：{"code": 200, "message": "获取劣势标签成功", "data": [字典1, 字典2, ...]}
- 字典格式：
| 参数名                   | 参数说明   | 类型  | 例子               | 备注                       |
|-----------------------|--------|-----|------------------|--------------------------|
| name              | 标签名称    | 字符串 | 面向对象        |  |
| weakness_value | 用户对该标签的薄弱值 | 浮点数 |        |                         |

# 附：能力值设计说明
## 题目掌握度
对于每个题目，取最后五次做题记录计算题目掌握度，公式为

倒数第一次*40%+倒数第二次*32%+倒数第三次*16%+倒数第四次*8%+倒数第五次*4%
（做对为1，做错为0）

若不足五次，则取全部记录加权，例如只有三次，则公式为

（倒数第一次*40%+倒数第二次*32%+倒数第三次*16%）/ （40%+32%+16%）
（做对为1，做错为0）

## 难度系数
将 1 +（1-题库总正确率）* 9看作题目难度系数

## 能力值
用户的能力值     =    做过的每个题的题目掌握度 * 题目难度系数（做的题越多则能力值越高）
每个tag的能力值     =   做过的每个包含此tag的题的题目掌握度 *  题目难度系数 （做的题越多则能力值越高）
每个tag的薄弱指数  =   （1 - 做过的每个包含此tag的题的题目掌握度） * 题库总正确率，按 题库总正确率 求加权平均

## 前端界面
展示用户的能力值随时间变化情况（折线图）
展示用户擅长的前5个tag（能力值最高的5个tag）
展示用户最薄弱的5个tag（薄弱指数最高的5个tag）
对于每个tag，可展示这个tag的能力值随时间变化情况（折线图）
